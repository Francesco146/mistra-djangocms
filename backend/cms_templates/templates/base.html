<!DOCTYPE html>{% load cms_tags menu_tags sekizai_tags djangocms_alias_tags i18n %}
<html lang="{{ LANGUAGE_CODE }}">
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <title>{% page_attribute "page_title" %}</title>
      {% addtoblock "css" %}<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">{% endaddtoblock %}
      {% render_block 'css' %}
        <style>
            #back-to-top { position: fixed; bottom: 40px; right: 40px; display: none; z-index: 9999; }
        </style>
    </head>
    <body>
      <a href="#main-content" class="visually-hidden-focusable btn btn-primary position-absolute start-50 translate-middle-x mt-2" style="top:0; left:50%; z-index:10000;">Passa al contenuto principale</a>
      {% cms_toolbar %}
      {% block navbar %}{% endblock %}

      {% block content %}
        <main id="main-content" class="container px-md-5">
          {% placeholder "Content" %}
        </main>

        <footer class="bg-dark text-white px-4 py-4">
            <div class="container text-center">
              {% static_alias 'footer' %}
            </div>
        </footer>
      {% endblock content %}
        
        <button id="back-to-top" aria-label="Torna all'inizio della pagina" class="btn btn-primary rounded-circle" title="Torna su">
          &uarr;
        </button>

      {% addtoblock "js" %}<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>{% endaddtoblock %}
      {% render_block 'js' %}
        <script>
        // Mostra il tasto "torna su" quando si scrolla
        const backToTop = document.getElementById('back-to-top');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 200) {
            backToTop.style.display = 'block';
            } else {
            backToTop.style.display = 'none';
            }
        });
        backToTop.addEventListener('click', function() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        });
        </script>
    </body>
</html>
